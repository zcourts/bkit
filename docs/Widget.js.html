<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Widget.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: Widget.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @namespace
 */
define('bkit/Widget',
    [
        'require',
        'jquery',
        'signals',
        'underscore',
        'module'                                   ,
        'bkit/Promise',
        'bkit/Util'
    ],
    function (require, $, Signal, _, module, Promise, Util) {
        /**
         * @mixin
         * @global
         */
        function Widget() {
        }

        Widget.prototype.type = module.id;
        Widget.prototype.namespace = 'this';
        Widget.prototype.defaults = {signal_linger_time: 30000};

        Widget.prototype.init = function (self) {
            self.template = null;
            self.domNode = null;
            self.s = {};

            //generate the hash code for this widget
            var allMixinNames = "";
            _.each(self.mixins, function (self, val, key) {
                allMixinNames += key;
            });

            self.hashCode = Util.hash(allMixinNames);
            //and the instance id
            self.instance_id = Util.hash(new Date().getTime() + "" + Math.random());
        };
        /**
         * Check if the given object is of the specified type.
         * An object is of a type if that type was mixed into the object
         * @param obj the type to check for, typical of the form namespace/package/ModuleName e.g.
         * the string bkit/dowi/Button or the Button constructor function, if obj is not a string or a function
         * then instanceof is used to test it against all mixins until the first one which returns true or they all fail
         * @returns true if the object is truthful, has a mixins property and that mixin property contains a key of
         * the given type
         * @memberof Widget
         */
        Widget.prototype.is = function (self, obj) {
            var exists = _.has(self.mixins, obj);
            if (!exists) {
                for (var i in self.mixins) {
                    console.log(self.mixins[i] == obj, self.mixins[i], obj)
                    exists = _.isFunction(obj) ? self.mixins[i] == obj : self.mixins[i] instanceof obj;
                    if (exists) {
                        break;
                    }
                }
            }
            return exists;
        };

        /***
         * Check if the given type has had bkit/Widget mixed in
         * @param obj the object to check
         * @returns true if Widget was mixed into the object
         * @memberof Widget
         */
        Widget.prototype.isWidget = true;

        /**
         * Every Mixin gets a unique hash code. This hash code is the same for all instances of that Mixin
         * To get a hash per instance use the self.instanceId() method
         * @returns {int} The hash code for this widget
         * @memberof Widget
         */
        Widget.prototype.hash = function (self) {
            return self.hashCode;
        };

        /**
         * Every instance of a widget receives an ID separate to the widget's hash code
         * which is the same for all instances of the same widget
         * @returns {int} the ID for this instance
         * @memberof Widget
         */
        Widget.prototype.instanceId = function (self) {
            return self.instance_id;
        };

        Widget.prototype.toString = function (self) {
            return JSON.stringify(self);
        };

        return Widget;
    });
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-Mixin.html">Mixin</a></li></ul><h3>Classes</h3><ul><li><a href="Application.html">Application</a></li><li><a href="MixinContainer.html">MixinContainer</a></li><li><a href="Namespace.html">Namespace</a></li><li><a href="Page.html">Page</a></li><li><a href="Promise.html">Promise</a></li></ul><h3>Namespaces</h3><ul><li><a href="app.html">app</a></li><li><a href="dom.html">dom</a></li><li><a href="event.html">event</a></li></ul><h3>Mixins</h3><ul><li><a href="Attributable.html">Attributable</a></li><li><a href="Containable.html">Containable</a></li><li><a href="Dispatchable.html">Dispatchable</a></li><li><a href="Displayable.html">Displayable</a></li><li><a href="Movable.html">Movable</a></li><li><a href="Resizable.html">Resizable</a></li><li><a href="Widget.html">Widget</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha4</a> on Wed Mar 05 2014 23:31:29 GMT+0000 (GMT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
